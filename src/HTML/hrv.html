<!DOCTYPE html>
<html lang="en">
<head>
    <title>VIRK</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {packages: ['corechart', 'line']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart(index) {
            var HR = new google.visualization.DataTable();
            var HRV = new google.visualization.DataTable();
            var sam = new google.visualization.DataTable();

            HR.addColumn('number', 'Number');
            HR.addColumn('number', 'HR');


            HRV.addColumn('number', 'Number');
            HRV.addColumn('number', 'HRV');

            sam.addColumn('number', 'Number');
            sam.addColumn('number', 'sam');

            //HRV
            HRV.addRows([
                [1, 90], [2, 91], [3, 92], [4, 93], [5, 94], [6, 94], [7, 93], [8, 92], [9, 93], [10, 94],
                [11, 92], [12, 93], [13, 92], [14, 93], [15, 94], [16, 93], [17, 92], [18, 91], [19, 92], [20, 93],
                [21, 92], [22, 91], [23, 93], [24, 94], [25, 93], [26, 94], [27, 94], [28, 93], [29, 93], [30, 92],
                [31, 93], [32, 93], [33, 92], [34, 91], [35, 92], [36, 93], [37, 92], [38, 91], [39, 91], [40, 92],
                [41, 92], [42, 91], [43, 91], [44, 90], [45, 92], [46, 92], [47, 91], [48, 92], [49, 91], [50, 90],
                [51, 92], [52, 91], [53, 92], [54, 92], [55, 91], [56, 91], [57, 93], [58, 94], [59, 92], [60, 93],
                [61, 93], [62, 92], [63, 91], [64, 91], [65, 92], [66, 93], [67, 92], [68, 91], [69, 92], [70, 91],
                [71, 93], [72, 91], [73, 92], [74, 92], [75, 90], [76, 88], [77, 86], [78, 84], [79, 82], [80, 80],
                [81, 81], [82, 80], [83, 79], [84, 78], [85, 76], [86, 74], [87, 74], [88, 67], [89, 60], [90, 55],
                [91, 56], [92, 55], [93, 56], [94, 57], [95, 56], [96, 60], [97, 70], [98, 79], [99, 80], [100, 81],
                [101, 82], [102, 82], [103, 82], [104, 81], [105, 81], [106, 82], [107, 82], [108, 83], [109, 82], [110, 81],
                [111, 83], [112, 81], [113, 80], [114, 82], [115, 83], [116, 82], [117, 82], [118, 80], [119, 80], [120, 81],
                [121, 83], [122, 81], [123, 82], [124, 81], [125, 79], [126, 83], [127, 82], [128, 81], [129, 83], [130, 83],
                [131, 80], [132, 81], [133, 83], [134, 82], [135, 84], [136, 83], [137, 84], [138, 82], [139, 81], [140, 83],
                [141, 82], [142, 82], [143, 81], [144, 80], [145, 82], [146, 81], [147, 81], [148, 83], [149, 81], [150, 81],
                [151, 82], [152, 83], [153, 82], [154, 83], [155, 83], [156, 82], [157, 81], [158, 83], [159, 82], [160, 81],
                [161, 81], [162, 82], [163, 81], [164, 83], [165, 82], [166, 82], [167, 81], [168, 83], [169, 83], [170, 82],
                [171, 81], [172, 82], [173, 84], [174, 82], [175, 81], [176, 82], [177, 84], [178, 82], [179, 83], [180, 83],
                [181, 81], [182, 82], [183, 84], [184, 83], [185, 81], [186, 82], [187, 81], [188, 82], [189, 74], [190, 68],
                [191, 62], [192, 56], [193, 50], [194, 51], [195, 50], [196, 50], [197, 51], [198, 52], [199, 51], [200, 50],
                [201, 51], [202, 57], [203, 63], [204, 62], [205, 64], [206, 63], [207, 63], [208, 65], [209, 64], [210, 65],
                [211, 64], [212, 67], [213, 65], [214, 66], [215, 67], [216, 70], [217, 75], [218, 78], [219, 80], [220, 81],
                [221, 81], [222, 81], [223, 81], [224, 82], [225, 83], [226, 84], [227, 83], [228, 84], [229, 83], [230, 82],
                [231, 84], [232, 85], [233, 87], [234, 86], [235, 87], [236, 87], [237, 86], [238, 87], [239, 86], [240, 87],
                [241, 86], [242, 87], [243, 86], [244, 85], [245, 86], [246, 87], [247, 88], [248, 87], [249, 88], [250, 87],
                [251, 87], [252, 86], [253, 87], [254, 86], [255, 87], [256, 88], [257, 87], [258, 86], [259, 85], [260, 86],
                [261, 87], [262, 86], [263, 87], [264, 85], [265, 80], [266, 76], [267, 72], [268, 73], [269, 73], [270, 72],
                [271, 71], [272, 72], [273, 71], [274, 70], [275, 71], [276, 72], [277, 71], [278, 72], [279, 71], [280, 73],
                [281, 76], [282, 80], [283, 83], [284, 88], [285, 92], [286, 94], [287, 95], [288, 94]
            ]);

            HRV.addColumn('number', 'Baseline');


            //PULS
            HR.addRows([
                [1, 60], [2, 61], [3, 62], [4, 61], [5, 60], [6, 61], [7, 62], [8, 60], [9, 61], [10, 61],
                [11, 60], [12, 61], [13, 62], [14, 61], [15, 59], [16, 60], [17, 61], [18, 61], [19, 62], [20, 62],
                [21, 60], [22, 59], [23, 59], [24, 60], [25, 62], [26, 63], [27, 62], [28, 62], [29, 61], [30, 60],
                [31, 60], [32, 61], [33, 62], [34, 61], [35, 62], [36, 61], [37, 62], [38, 61], [39, 61], [40, 62],
                [41, 62], [42, 61], [43, 61], [44, 60], [45, 62], [46, 62], [47, 61], [48, 62], [49, 61], [50, 60],
                [51, 62], [52, 61], [53, 62], [54, 62], [55, 61], [56, 61], [57, 63], [58, 64], [59, 62], [60, 63],
                [61, 61], [62, 62], [63, 61], [64, 61], [65, 62], [66, 61], [67, 62], [68, 61], [69, 62], [70, 61],
                [71, 60], [72, 59], [73, 60], [74, 59], [75, 60], [76, 60], [77, 61], [78, 62], [79, 65], [80, 70],
                [81, 75], [82, 76], [83, 77], [84, 78], [85, 80], [86, 83], [87, 86], [88, 89], [89, 89], [90, 93],
                [91, 94], [92, 93], [93, 93], [94, 94], [95, 89], [96, 84], [97, 76], [98, 75], [99, 74], [100, 73],
                [101, 62], [102, 63], [103, 62], [104, 61], [105, 62], [106, 62], [107, 63], [108, 62], [109, 61], [110, 62],
                [111, 61], [112, 62], [113, 62], [114, 63], [115, 62], [116, 62], [117, 61], [118, 60], [119, 61], [120, 61],
                [121, 61], [122, 60], [123, 61], [124, 63], [125, 63], [126, 62], [127, 61], [128, 63], [129, 63], [130, 62],
                [131, 61], [132, 63], [133, 62], [134, 62], [135, 63], [136, 62], [137, 62], [138, 61], [139, 63], [140, 62],
                [141, 62], [142, 61], [143, 60], [144, 62], [145, 61], [146, 61], [147, 63], [148, 61], [149, 61], [150, 62],
                [151, 63], [152, 62], [153, 63], [154, 63], [155, 62], [156, 61], [157, 63], [158, 62], [159, 61], [160, 61],
                [161, 62], [162, 61], [163, 63], [164, 62], [165, 62], [166, 61], [167, 63], [168, 63], [169, 62], [170, 61],
                [171, 62], [172, 64], [173, 62], [174, 61], [175, 62], [176, 64], [177, 62], [178, 63], [179, 63], [180, 61],
                [181, 62], [182, 64], [183, 63], [184, 61], [185, 62], [186, 61], [187, 72], [188, 78], [189, 86], [190, 93],
                [191, 100], [192, 118], [193, 126], [194, 139], [195, 141], [196, 140], [197, 142], [198, 141], [199, 142], [200, 135],
                [201, 113], [202, 102], [203, 93], [204, 86], [205, 79], [206, 78], [207, 79], [208, 78], [209, 77], [210, 77],
                [211, 78], [212, 78], [213, 79], [214, 78], [215, 76], [216, 77], [217, 76], [218, 72], [219, 71], [220, 70],
                [221, 71], [222, 71], [223, 72], [224, 71], [225, 70], [226, 69], [227, 70], [228, 71], [229, 72], [230, 69],
                [231, 65], [232, 66], [233, 65], [234, 64], [235, 65], [236, 66], [237, 65], [238, 64], [239, 64], [240, 68],
                [241, 70], [242, 71], [243, 72], [244, 71], [245, 72], [246, 71], [247, 72], [248, 73], [249, 72], [250, 73],
                [251, 72], [252, 72], [253, 72], [254, 70], [255, 71], [256, 71], [257, 72], [258, 72], [259, 71], [260, 70],
                [261, 71], [262, 70], [263, 70], [264, 73], [265, 75], [266, 78], [267, 80], [268, 82], [269, 82], [270, 81],
                [271, 82], [272, 81], [273, 82], [274, 83], [275, 82], [276, 84], [277, 86], [278, 85], [279, 84], [280, 81],
                [281, 75], [282, 71], [283, 70], [284, 67], [285, 63], [286, 60], [287, 61], [288, 60]
            ]);


            var sum = 0;
            var HRVsum = 0;
            for (var n = 0; n < 288; n++) {
                sum += parseInt(HR.getFormattedValue(n, 1));
                HRVsum += parseInt(HRV.getFormattedValue(n, 1));


            }
            var gen = parseInt(sum / 288);
            var HRVgen = parseInt(HRVsum / 288);
            for (var i = 0; i < 288; i++) {
                var a = HR.getFormattedValue(i, 1);
                var b = HRV.getFormattedValue(i, 1);
                if (a < gen && b < HRVgen) {
                    sam.addRow([i, 1])
                } else {
                    sam.addRow([i, 0])
                }
            }

            HRV.addColumn('number', 'Baseline = '+ HRVgen+'ms HRV');
            HR.addColumn('number', 'Baseline = ' + gen+'bpm HR');


            var options;
            options = {
                hAxis: {title: 'Sambles'},
                series: {
                    1: {
                        targetAxisIndex: 1, // <-- assign y1 to second y-axis
                        visibleInLegend: false  // <-- hide from legend
                    }
                },
                vAxis: {
                    title: 'HRV', baseline: HRVgen, baselineColor: 'orange', minValue: 0, maxValue: 140, maxHeight: 140,
                },
                vAxes: {
                    1: {

                        textStyle: {
                            color: 'red'
                        },
                        ticks: [HRVgen],

                    }
                }
            };
            var sample;
            sample = {
                hAxis: {title: 'Samples',},
                vAxis: {title: 'Sammenligning', maxValue: 1, maxHeight: 1},
            };

            var graf;
            graf = {
                hAxis: {title: 'Samples'},

                series: {
                    1: {
                        targetAxisIndex: 1,  // <-- assign y1 to second y-axis
                        visibleInLegend: false  // <-- hide from legend
                    }
                },

                vAxis: {
                    title: 'HR',
                    baseline: gen,
                    baselineColor: 'orange',
                    minValue: 0,
                    maxValue: 160,
                    maxHeight: 160,
                    maxWidth: 350,
                },
                vAxes: {
                    1: {

                        textStyle: {
                            color: 'red'
                        },
                        ticks: [gen]


                    }
                }
            };


            var chart = new google.visualization.LineChart(document.getElementById('HRVchart_div'));
            var HRchart = new google.visualization.LineChart(document.getElementById('HRchart_div'));
            var Samchart = new google.visualization.LineChart(document.getElementById('Samchart_div'));
            chart.draw(HRV, options);
            HRchart.draw(HR, graf);
            Samchart.draw(sam, sample);
        }
    </script>
</head>
<body>
<div id="HRVchart_div" style="height: 500px"></div>
<div style="text-align: center"></div>
<div id="HRchart_div" style="height: 500px"></div>
<div id="Samchart_div" style="height: 500px"></div>
</body>
</html>